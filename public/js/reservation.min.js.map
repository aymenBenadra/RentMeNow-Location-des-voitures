{"version":3,"sources":["../../src/js/reservation.js"],"names":["reservation","document","querySelector","vehicles","vehicleOptions","querySelectorAll","bav","getElementsByName","forEach","b","addEventListener","event","target","checked","id","fetch","then","res","json","data","renderVehicle","vehiclesData","value","reset","console","log","vehicle","filter","v","type","disabled","includes"],"mappings":"gBACMA,CAAAA,WAAW,CAAGC,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,C,CACdC,QAAQ,CAAGF,QAAQ,CAACC,aAAT,CAAuB,WAAvB,C,CACXE,cAAc,CAAGH,QAAQ,CAACI,gBAAT,CAA0B,kBAA1B,C,CACjBC,GAAG,CAAGL,QAAQ,CAACM,iBAAT,CAA2B,KAA3B,C,CAGZD,GAAG,CAACE,OAAJ,CAAY,SAACC,CAAD,CAAO,CACjBA,CAAC,CAACC,gBAAF,CAAmB,OAAnB,CAA4B,SAACC,CAAD,CAAW,CACjCA,CAAK,CAACC,MAAN,CAAaC,OADoB,EAEnCP,GAAG,CAACE,OAAJ,CAAY,SAACC,CAAD,CAAO,CACbA,CAAC,CAACK,EAAF,EAAQH,CAAK,CAACC,MAAN,CAAaE,EADR,GACYL,CAAC,CAACI,OAAF,GADZ,CAElB,CAFD,CAIH,CAND,CAOD,CARD,C,CAWAE,KAAK,CAAC,2BAAD,CAAL,CACGC,IADH,CACQ,SAACC,CAAD,QAASA,CAAAA,CAAG,CAACC,IAAJ,EAAT,CADR,EAEGF,IAFH,CAEQ,SAACG,CAAD,QAAUC,CAAAA,aAAa,CAACD,CAAD,CAAvB,CAFR,C,CAIA,QAASC,CAAAA,aAAT,CAAuBC,CAAvB,CAAqC,CACnClB,QAAQ,CAACO,gBAAT,CAA0B,QAA1B,CAAoC,SAACC,CAAD,CAAW,CAE7C,GADAL,GAAG,CAACE,OAAJ,CAAY,SAACC,CAAD,QAAQA,CAAAA,CAAC,CAACI,OAAF,GAAR,CAAZ,CACA,CAA0B,IAAtB,EAAAF,CAAK,CAACC,MAAN,CAAaU,KAAjB,CACEtB,WAAW,CAACuB,KAAZ,EADF,KAEO,CAELC,OAAO,CAACC,GAAR,CAAYd,CAAK,CAACC,MAAN,CAAaU,KAAzB,CAFK,CAGL,GAAMI,CAAAA,CAAO,CAAGL,CAAY,CAACM,MAAb,CACd,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,EAAUlB,CAAK,CAACC,MAAN,CAAaU,KAA9B,CADc,EAEd,CAFc,CAAhB,CAGAE,OAAO,CAACC,GAAR,CAAYC,CAAZ,CANK,CASLpB,GAAG,CAACE,OAAJ,CAAY,SAACC,CAAD,CAAO,CAEZA,CAAC,CAACqB,QAFU,EACZJ,CAAO,CAACpB,GAAR,CAAYyB,QAAZ,CAAqBtB,CAAC,CAACa,KAAvB,CAEN,CAHD,CAUD,CACF,CAxBD,CAyBD","sourcesContent":["// Reservation page\r\nconst reservation = document.querySelector(\"#reservation-form\");\r\nconst vehicles = document.querySelector(\"#vehicles\");\r\nconst vehicleOptions = document.querySelectorAll(\"#vehicles option\");\r\nconst bav = document.getElementsByName(\"bav\");\r\n\r\n// if checkbox is checked, uncheck the other\r\nbav.forEach((b) => {\r\n  b.addEventListener(\"click\", (event) => {\r\n    if (event.target.checked) {\r\n      bav.forEach((b) => {\r\n        if (b.id != event.target.id) b.checked = false;\r\n      });\r\n    }\r\n  });\r\n});\r\n\r\n// disable unavailable options\r\nfetch(\"./assets/db/vehicles.json\")\r\n  .then((res) => res.json())\r\n  .then((data) => renderVehicle(data));\r\n\r\nfunction renderVehicle(vehiclesData) {\r\n  vehicles.addEventListener(\"change\", (event) => {\r\n    bav.forEach((b) => (b.checked = false));\r\n    if (event.target.value == \"--\") {\r\n      reservation.reset();\r\n    } else {\r\n      // Find selected vehicle data\r\n      console.log(event.target.value);\r\n      const vehicle = vehiclesData.filter(\r\n        (v) => v.type == event.target.value\r\n      )[0];\r\n      console.log(vehicle);\r\n\r\n      // Disable unavailable Checkboxes\r\n      bav.forEach((b) => {\r\n        if (!vehicle.bav.includes(b.value)) b.disabled = true;\r\n        else b.disabled = false;\r\n      });\r\n\r\n      // // Disable unavailable Moteurs\r\n      // vehicleOptions.forEach((o) => {\r\n      //   if (vehicle.options.includes(o.value)) o.disabled = false;\r\n      //   else o.disabled = true;\r\n      // });\r\n    }\r\n  });\r\n}\r\n"],"file":"reservation.min.js"}