"use strict";var reservation=document.querySelector("#reservation-form"),vehicles=document.querySelector("#vehicles"),vehicleOptions=document.querySelectorAll("#vehicles option"),bav=document.getElementsByName("bav"),moteur=document.querySelector("#moteur"),moteurOptions=document.querySelectorAll("#moteur option"),jours=document.querySelector("#jours"),rebriquePrix=document.querySelector("#rebriquePrix"),moteurTTC={electrique:.05,hybride:.09,essence:.14,diesel:.21},price={net:0,ttc:0},vehicleData=null;fetch("./assets/db/vehicles.json").then(function(a){return a.json()}).then(function(a){return renderVehicle(a)});function renderVehicle(a){vehicles.addEventListener("change",function(b){"--"==b.target.value?(reservation.reset(),bav.forEach(function(a){a.checked=!1}),moteurOptions[0].selected=!0,jours.value=1,jours.disabled=!0):(vehicleData=a.filter(function(a){return a.type==b.target.value})[0],bav.forEach(function(a){a.checked=!(vehicleData.bav!=a.value)}),moteurOptions[0].selected=!0,moteurOptions.forEach(function(a){console.log(a.disabled),a.disabled=!vehicleData.moteur.includes(a.value)}),jours.disabled=!1,price.net="auto"==vehicleData.bav?vehicleData.tarif+.19*vehicleData.tarif:vehicleData.tarif,document.querySelector("#prix").value=price.net)})}moteur.addEventListener("change",function(a){"--"==!a.target.value?(price.ttc=price.net,document.querySelector("#prix").value=price.net):(price.ttc=price.net+price.net*moteurTTC[a.target.value],document.querySelector("#prix").value=price.ttc)}),jours.addEventListener("change",function(a){price.ttc*=a.target.value,document.querySelector("#prix").value=price.ttc});
//# sourceMappingURL=reservation.min.js.map